import{w as h}from"./index.039ee542.js";import{a8 as _}from"./index.2dd445b3.js";const i={};function S(e){return e==="local"?localStorage:sessionStorage}function f(e,n,t){const s=(t==null?void 0:t.serializer)??JSON,a=(t==null?void 0:t.storage)??"local",l=typeof window<"u"&&typeof document<"u";function m(c,d){l&&S(a).setItem(c,s.stringify(d))}if(!i[e]){const c=h(n,r=>{const o=l?S(a).getItem(e):null;if(o&&r(s.parse(o)),l){const w=u=>{u.key===e&&r(u.newValue?s.parse(u.newValue):null)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)}}),{subscribe:d,set:g}=c;i[e]={set(r){m(e,r),g(r)},update(r){const o=r(_(c));m(e,o),g(o)},subscribe:d}}return i[e]}f("modeOsPrefers",!1);f("modeUserPrefers",void 0);f("modeCurrent",!1);function p(){const e=window.matchMedia("(prefers-color-scheme: light)");function n(t){const s=document.documentElement.classList,a="dark";t===!0?s.remove(a):s.add(a)}n(e.matches),e.onchange=()=>{n(e.matches)}}const E=h([]);export{p as a,E as g};
